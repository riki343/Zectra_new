<div ng-if="(tasks == null) || (tasks.length == 0)" class="center-block vertical-center">
    <h3 class="text-info text-center">Tasks will be displayed here</h3>
</div>
<div ng-if="(tasks) && (tasks.length > 0)" class="col-md-12">
    <div class="row">
        <div class="col-md-3">
            <div class="page-header text-center">Story</div>
            <div class="list-group">
                <div class="row" ng-repeat="task in tasks | orderBy: tasksOrderBy | filter: execTaskFilter" ng-if="(task.status.label == 'story') && (task.parentid == null)">
                    <div class="col-md-12" ng-init="parentTask = task">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-init="taskHref = assignTaskHref(task.id)" ng-href="[[taskHref]]"
                           ng-class="{
                                    'local-red': task.priority.id == 3,
                                    'local-yellow': task.priority.id == 2,
                                    'local-green': task.priority.id == 1
                                    }">
                            <h4 class="list-group-item-heading" ng-if="task.parentid == null">
                                    <span style="color: black;">
                                        [[ task.id ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                        &nbsp;
                                    </span>
                                [[ task.name ]]
                            </h4>
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
                <div class="row" ng-repeat="task in agileStorySubtasks">
                    <div class="col-md-12">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-href="[[task.href]]"
                           ng-class="{
                                    'local-red': task.priority.id == 3,
                                    'local-yellow': task.priority.id == 2,
                                    'local-green': task.priority.id == 1
                                    }">
                            <h4 class="list-group-item-heading">
                                <span style="color: black;">
                                    [[ task.parentid ]].[[ task.subindex ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                    &nbsp;
                                </span>
                                [[ task.name ]]
                            </h4>
                            [[ task.name ]]
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="page-header text-center">Todo</div>

            <div class="list-group">
                <div class="row" ng-repeat="task in tasks | orderBy: tasksOrderBy | filter: execTaskFilter" ng-if="(task.status.label == 'todo') && (task.parentid == null)">
                        <div class="col-md-12" ng-init="parentTask = task">
                            <a class="list-group-item" style="margin-bottom: 5px;" ng-init="taskHref = assignTaskHref(task.id)" ng-href="[[taskHref]]"
                               ng-class="{
                                        'local-red': task.priority.id == 3,
                                        'local-yellow': task.priority.id == 2,
                                        'local-green': task.priority.id == 1
                                        }">
                                <h4 class="list-group-item-heading" ng-if="task.parentid == null">
                                        <span style="color: black;">
                                            [[ task.id ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                            &nbsp;
                                        </span>
                                    [[ task.name ]]
                                </h4>
                                <p class="list-group-item-text">
                                    [[ task.description ]]
                                </p>
                                <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                    <span class="label label-info" style="float:left;">0</span>
                                    <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                                </p>
                            </a>
                        </div>
                    </div>
                <div class="row" ng-repeat="task in agileTodoSubtasks">
                    <div class="col-md-12">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-href="[[task.href]]"
                           ng-class="{
                                    'local-red': task.priority.id == 3,
                                    'local-yellow': task.priority.id == 2,
                                    'local-green': task.priority.id == 1
                                    }">
                            <h4 class="list-group-item-heading">
                                <span style="color: black;">
                                    [[ task.parentid ]].[[ task.subindex ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                    &nbsp;
                                </span>
                                [[ task.name ]]
                            </h4>
                            [[ task.name ]]
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="page-header text-center">In-progess</div>

            <div class="list-group">
                <div class="row" ng-repeat="task in tasks | orderBy: tasksOrderBy | filter: execTaskFilter" ng-if="(task.status.label == 'in-progress') && (task.parentid == null)">
                    <div class="col-md-12" ng-init="parentTask = task">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-init="taskHref = assignTaskHref(task.id)" ng-href="[[taskHref]]"
                           ng-class="{
                                        'local-red': task.priority.id == 3,
                                        'local-yellow': task.priority.id == 2,
                                        'local-green': task.priority.id == 1
                                        }">
                            <h4 class="list-group-item-heading" ng-if="task.parentid == null">
                                        <span style="color: black;">
                                            [[ task.id ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                            &nbsp;
                                        </span>
                                [[ task.name ]]
                            </h4>
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
                <div class="row" ng-repeat="task in agileInProgressSubtasks">
                    <div class="col-md-12">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-href="[[task.href]]"
                           ng-class="{
                                    'local-red': task.priority.id == 3,
                                    'local-yellow': task.priority.id == 2,
                                    'local-green': task.priority.id == 1
                                    }">
                            <h4 class="list-group-item-heading">
                                <span style="color: black;">
                                    [[ task.parentid ]].[[ task.subindex ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                    &nbsp;
                                </span>
                                [[ task.name ]]
                            </h4>
                            [[ task.name ]]
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="page-header text-center">Done</div>

            <div class="list-group">
                <div class="row" ng-repeat="task in tasks | orderBy: tasksOrderBy | filter: execTaskFilter" ng-if="(task.status.label == 'done') && (task.parentid == null)">
                    <div class="col-md-12" ng-init="parentTask = task">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-init="taskHref = assignTaskHref(task.id)" ng-href="[[taskHref]]"
                           ng-class="{
                                        'local-red': task.priority.id == 3,
                                        'local-yellow': task.priority.id == 2,
                                        'local-green': task.priority.id == 1
                                        }">
                            <h4 class="list-group-item-heading" ng-if="task.parentid == null">
                                        <span style="color: black;">
                                            [[ task.id ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                            &nbsp;
                                        </span>
                                [[ task.name ]]
                            </h4>
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
                <div class="row" ng-repeat="task in agileDoneSubtasks">
                    <div class="col-md-12">
                        <a class="list-group-item" style="margin-bottom: 5px;" ng-href="[[task.href]]"
                           ng-class="{
                                    'local-red': task.priority.id == 3,
                                    'local-yellow': task.priority.id == 2,
                                    'local-green': task.priority.id == 1
                                    }">
                            <h4 class="list-group-item-heading">
                                <span style="color: black;">
                                    [[ task.parentid ]].[[ task.subindex ]]<span ng-if="task.type.label == 'bug'">[['.B']]</span><span ng-if="task.type.label == 'improvement'">[['.I']]</span>
                                    &nbsp;
                                </span>
                                [[ task.name ]]
                            </h4>
                            [[ task.name ]]
                            <p class="list-group-item-text">
                                [[ task.description ]]
                            </p>
                            <p style="padding-top:5px;" ng-init="avatar = generateAsset(urlAsset, 'documents/' + task.owner.avatar)">
                                <span class="label label-info" style="float:left;">0</span>
                                <img class="img-circle" ng-src="[[avatar]]" style="width: 15px; height: 15px; float:left; margin-left:5px;">
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
